(()=>{"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),(()=>{var t;e.g.importScripts&&(t=e.g.location+"");var c=e.g.document;if(!t&&c&&(c.currentScript&&(t=c.currentScript.src),!t)){var a=c.getElementsByTagName("script");if(a.length)for(var n=a.length-1;n>-1&&!t;)t=a[n--].src}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t})();const t=e.p+"27c71e5aefbb2bd308c8.svg",c=e.p+"f9a9192004df41157281.svg",a=e.p+"08e7ffb5431f928f03ce.svg",n=e.p+"d5160273ce138852496d.svg",s=e.p+"f274d0f26f19ee158527.svg",r=e.p+"2d0e63cc3b721013701f.svg";const o=[a,n,s,r];class l{static id=l.ID();static subjects=l.getSubjects();static addSubjects(e){l.id++,l.subjects.push({name:e,id:l.id}),l.updateLocalStorage()}static removeSubject(e){const t=l.subjects.find((t=>t.id==e)),c=l.subjects.indexOf(t);l.subjects.splice(c,1),l.updateLocalStorage()}static updateLocalStorage(){localStorage.setItem("subjects",JSON.stringify(l.subjects)),localStorage.setItem("id",JSON.stringify(l.id))}static ID(){return JSON.parse(localStorage.getItem("id"))}static getSubjects(){const e=JSON.parse(localStorage.getItem("subjects"));return e||[]}}const i=l;function d(){return(new Date).toDateString().split(" ")[0]}function u(){let e=(new Date).toDateString().split(" ");const[t,c,a]=[e[1],e[2],e[3]];return e=t+" "+c+", "+a,e}class p{static schedule=p.getSchedule();static getSchedule(){const e=JSON.parse(localStorage.getItem("schedule"));return e||[{day:"mon",subjects:[]},{day:"tue",subjects:[]},{day:"wed",subjects:[]},{day:"thu",subjects:[]},{day:"fri",subjects:[]}]}static removeSubject(e,t){const c=p.schedule.findIndex((t=>t.day==e)),a=p.schedule[c].subjects,n=a.findIndex((e=>e.id==t));a.splice(n,1),p.updateLocalStorage()}static addData(e,t){const c=p.schedule.findIndex((t=>t.day==e)),a=p.schedule[c].subjects;t.forEach((e=>{a.includes(e)||a.push(e)})),p.updateLocalStorage()}static updateLocalStorage(){localStorage.setItem("schedule",JSON.stringify(p.schedule))}static getDaySchedule(e){const t=p.schedule.find((t=>t.day==e.toLowerCase()));return t?.subjects}}const g=p;class m{static attendance=[];static setLocalStorage(){JSON.parse(localStorage.getItem("today"))==u()||(localStorage.setItem("today",JSON.stringify(u())),localStorage.setItem("extraclass",JSON.stringify([])),localStorage.setItem("todayReport",JSON.stringify(""))),m.todayReportData()}static addAttendance(e,t){const c=m.attendance.find((t=>t.subject.name==e.name));b.updateReport(e,c.status,t),c.status=t,m.updateLocalStorage()}static todayReportData(){if(""==JSON.parse(localStorage.getItem("todayReport"))){g.getDaySchedule(d()).forEach((e=>{m.attendance.push({subject:e,status:"Select"})})),m.updateLocalStorage()}else m.attendance=JSON.parse(localStorage.getItem("todayReport")),m.updateLocalStorage()}static updateLocalStorage(){localStorage.setItem("todayReport",JSON.stringify(m.attendance))}}const S=m;class y{static report=[];static getReport(){return y.report}static setReport(){""==JSON.parse(localStorage.getItem("report"))?(i.getSubjects().forEach((e=>{y.report.push({subject:e,attended:0,bunk:0,holiday:0,total:0})})),localStorage.setItem("report",JSON.stringify(y.report))):y.report=JSON.parse(localStorage.getItem("report"))}static updateReport(e,t,c){const a=y.report.find((t=>t.subject.id==e.id));if("Select"==t){switch(console.log("new entry"),c){case"Attended":a.attended++,a.total++;break;case"Bunk":a.bunk++,a.total++;break;case"Holiday":a.holiday++}y.updateLocalStorage()}else if(console.log("updated entry"),t!=c){switch(c){case"Attended":a.attended++;break;case"Bunk":a.bunk++;break;case"Holiday":a.holiday++,a.total--}switch(t){case"Attended":a.attended--;break;case"Bunk":a.bunk--;break;case"Holiday":a.holiday--,a.total++}y.updateLocalStorage()}}static getData(e){return JSON.parse(localStorage.getItem("report")).find((t=>t.subject.id==e.id))}static updateLocalStorage(){localStorage.setItem("report",JSON.stringify(y.report))}}const b=y;class f{static subject=[];static setStorage(){""!=f.getData()&&(f.subject=f.getData())}static addSubject(e,t){f.subject.push({subject:e,status:t}),f.updateLocalStorage()}static updateLocalStorage(){localStorage.setItem("extraclass",JSON.stringify(f.subject))}static updateSubject(e,t){const c=f.subject.find((t=>t.subject.id==e)),a=c.status;console.log(a),b.updateReport(c.subject,a,t),c.status=t,f.updateLocalStorage()}static getData(){return JSON.parse(localStorage.getItem("extraclass"))}}const h=f,E=e.p+"34f636c2c2c097766c7e.svg",v=e.p+"06daa2700f6b85350d71.svg";function L(e){e.querySelector(".selector-options-wrapper").classList="selector-options-wrapper";const t=e.querySelector(".selector>img");t.src=E;e.querySelector(".selector").style.zIndex=t.src==v?3:1}const j=function(e,t){const c=document.createElement("div");c.className="sub",c.innerHTML=`\n                <div class="sub-name">${e}</div>\n                <div class="selector-wrapper">\n                    <div class="selector">\n                     <div class="value">${t}</div>           \n                      <img src="${E}" alt="" srcset="" >\n                    </div>\n                    <div class="selector-options-wrapper ">\n                        <div\n                        class="selector-options ">\n                        <div class="selector-option" id="attend">Attended</div>\n                        <div class="selector-option" id="bunk">Bunk</div>\n                        <div class="selector-option" id="holiday">Holiday</div>\n                        </div>\n                    </div>\n                </div>\n              `,c.querySelector(".selector>img").addEventListener("click",(e=>{e.target.src==v?L(c):function(e){const t=e.querySelector(".selector-options-wrapper");t.classList="selector-options-wrapper selector-dropdown";const c=e.querySelector(".selector>img");c.src=v;const a=e.querySelector(".selector");a.style.zIndex=c.src==v?3:1}(c)}));const a=c.querySelectorAll(".selector-option"),n=c.querySelector(".value");return a.forEach((e=>e.addEventListener("click",(()=>{n.innerText=e.innerText,L(c)})))),c},q=e.p+"1ff86f4a63d576adbe9d.svg",w=e.p+"a69ec82c0047e3b6e45c.svg";const I=function(e){const t=document.createElement("div");t.classList="select";const c=document.createElement("div");c.classList="select-input";const a=document.createElement("div");a.classList="name",a.innerText="Subjects";const n=document.createElement("img");n.src=w;const s=document.createElement("div");s.classList="options-wrapper";const r=document.createElement("div");r.classList="options";const o=()=>{n.src=n.src==q?w:q,s.classList=n.src==w?"options-wrapper":"options-wrapper dropdown-select"};return n.addEventListener("click",o),a.addEventListener("click",o),e&&r.addEventListener("click",o),c.appendChild(a),c.appendChild(n),s.appendChild(r),t.appendChild(c),t.appendChild(s),t};function x(){const e=document.querySelector("#extraclass-page").querySelector(".sub-container");e.innerHTML="",h.getData().forEach((t=>{const c=j(t.subject.name,t.status);c.setAttribute("data-ID",`${t.subject.id}`),e.appendChild(c)})),function(){const e=document.querySelectorAll(".selector-option");e?.forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.innerText,c=e.target.parentElement.parentElement.parentElement.parentElement.getAttribute("data-ID");h.updateSubject(c,t)}))}))}()}const T=function(){h.setStorage(),function(){const e=document.querySelector("#extraclass-page").querySelector(".extraclass-pg-wrapper");e.innerHTML="";const t=document.createElement("div");t.className="sub-container",e.appendChild(function(){const e=I(!0),t=e.querySelector(".options-wrapper>.options");return i.getSubjects().forEach((e=>{const c=document.createElement("div");c.classList="option",c.innerText=e.name,c.setAttribute("data-ID",`${e.id}`),t.appendChild(c)})),e}()),e.appendChild(t)}(),document.querySelectorAll(".options-wrapper>.options>.option").forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.getAttribute("data-ID"),c=e.target.innerText;h.addSubject({name:c,id:t},"Select"),x()}))})),x()},k=document.querySelector(".subjects-wrapper"),N=document.querySelector("#home-page");const A=function(){!function(){const e=N.querySelector("#day"),t=N.querySelector("#date");e.innerText=d(),t.innerText=u()}(),S.setLocalStorage(),function(){const e=S.attendance;k.innerHTML="",e.forEach((e=>{const t=j(e.subject.name,e.status);t.setAttribute("data-ID",e.subject.id),k.appendChild(t)}))}(),document.querySelectorAll(".selector-option").forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.innerText,c=e.target.parentElement.parentElement.parentElement.parentElement,a=c.getAttribute("data-ID"),n=c.querySelector(".sub-name").innerText;S.addAttendance({name:n,id:a},t)}))}))};const J=function(e,t,c,a,n){const s=document.createElement("div");s.className="table-row",s.setAttribute("data-ID",`${e}`);const r=document.createElement("div");r.className="cell",r.innerText=`${t}`;const o=document.createElement("div");o.className="cell",o.innerText=`${c}`;const l=document.createElement("div");l.className="cell",l.innerText=`${a}`;const i=document.createElement("div");return i.className="cell",i.innerText=`${n}`,s.appendChild(r),s.appendChild(o),s.appendChild(l),s.appendChild(i),s};const O=function(){const e=document.querySelector("#home-page").querySelector(".table-content");b.setReport(),function(e){e.innerHTML="",b.getReport().forEach((t=>{e.appendChild(J(t.subject.id,t.subject.name,t.total,t.attended,t.attended/t.total*100))}))}(e)};const D=function(){const e=document.querySelector("#home-page"),t=e.querySelector(".home-pg-wrapper"),c=e.querySelector(".nav"),a=t.querySelector(".today"),n=t.querySelector(".report");c.addEventListener("click",(e=>{c.querySelectorAll(".nav-item").forEach((e=>{e.classList="nav-item"})),e.target.classList="nav-item current","today"==e.target.id?(a.style.display="flex",n.style.display="none",A()):(a.style.display="none",n.style.display="flex",O())}))},C=e.p+"3f31ef6454ff1908db10.svg";const $=function(e,t){const c=document.createElement("div");c.classList="tile";const a=document.createElement("div");a.innerText=`${e}`,c.setAttribute("data-id",`${t}`);const n=document.createElement("img");return n.src=C,n.addEventListener("click",(()=>{n.parentElement.remove()})),c.appendChild(a),c.appendChild(n),c},H=document.querySelector("#schedule-page"),R=H.querySelectorAll("img"),M=H.querySelectorAll(".subject-list-wrapper"),B=H.querySelectorAll(".subject-list"),P=H.querySelectorAll(".add>button"),U=H.querySelector(".modal>dialog"),z=H.querySelector(".modal>dialog>.dialog"),F=H.querySelector(".message"),G=[];function K(){U.querySelector(".list").innerHTML=""}class Q{static render(e){Q.clearScreen();const t=`${e}-page`;switch(document.querySelector(`#${t}`).style.display="flex",t){case"schedule-page":!function(){const e=i.getSubjects();G.splice(0,G.length),0!=e.length?e.forEach((e=>{const t=document.createElement("div");t.classList="option",t.setAttribute("data-ID",`${e.id}`),t.innerText=`${e.name}`,t.addEventListener("click",(e=>{const t=U.querySelector(".list"),c=e.target,a=c.getAttribute("data-ID"),n=e.target.parentElement.parentElement.parentElement.parentElement.parentElement.getAttribute("data-day"),s=[];g.getDaySchedule(n).forEach((e=>s.push(e.name))),s.includes(c.innerText)?(t.style.color="red",t.innerText="already selected"):(t.style.color="black",t.innerHTML="already selected"==t.innerText?"":t.innerHTML,t.appendChild($(c.innerText,a)))})),G.push(t)})):(F.style.color="red",F.innerText="Please add subjects first..")}();break;case"home-page":D(),A(),O();break;case"extraclass-page":T()}}static clearScreen(){document.querySelectorAll("#main>.page").forEach((e=>{e.style.display="none"}))}}const V=Q,W=document.querySelector("#menu-icon>img"),X=document.querySelector("#menu"),Y=X.querySelectorAll(".pageTab"),Z=e=>{X.contains(e.target)||W.contains(e.target)||_()};function _(){W.src=t,X.classList="slide-backwards",document.removeEventListener("click",Z)}function ee(e){Y.forEach((e=>{e.classList="pageTab"})),e.classList="pageTab active"}function te(){W.addEventListener("click",(()=>{W.src==c?_():(W.src=c,X.classList="slide-forwards",document.addEventListener("click",Z))}))}const ce=document.querySelector("#starter>button"),ae=document.querySelector("#starter");function ne(){ae.style.display="none";const e=document.querySelector("#subjects");ee(e),V.render(e.id),localStorage.setItem("newUser",JSON.stringify(!1)),ce.removeEventListener("click",ne,!0)}const se=function(){JSON.parse(localStorage.getItem("newUser"))?ce.addEventListener("click",ne,!0):ae.style.display="none"};const re=function(){0==localStorage.length&&(localStorage.setItem("subjects",JSON.stringify([])),localStorage.setItem("id",JSON.stringify(0)),localStorage.setItem("newUser",JSON.stringify(!0)),localStorage.setItem("schedule",JSON.stringify([{day:"mon",subjects:[]},{day:"tue",subjects:[]},{day:"wed",subjects:[]},{day:"thu",subjects:[]},{day:"fri",subjects:[]}])),localStorage.setItem("today",JSON.stringify("Jan 02, 2024")),localStorage.setItem("todayReport",JSON.stringify("")),localStorage.setItem("report",JSON.stringify("")),localStorage.setItem("extraclass",JSON.stringify([])))},oe=document.querySelector(".sub-pg-wrapper .add"),le=document.querySelector(".sub-pg-wrapper .subject-list"),ie=le.querySelector("p"),de=oe.querySelector("input");function ue(){const e=i.getSubjects();0!=e.length&&(le.innerHTML="",e.forEach((e=>{le.appendChild($(e.name,e.id))})),function(){const e=le.querySelectorAll(".tile > img");e?.forEach((e=>{e.addEventListener("click",(()=>{const t=e.parentElement.getAttribute("data-id");i.removeSubject(t)}))}))}())}const pe=function(){oe.querySelector("button").addEventListener("click",(e=>{e.preventDefault(),function(){const e=de.value;""==e?(ie.style.color="red",ie.innerText="Please enter a subject name"):(i.addSubjects(e),de.value="",de.focus(),ue())}()})),ue()};re(),se(),Y.forEach(((e,t)=>{e.querySelector(".icon>img").src=o[t]})),te(),JSON.parse(localStorage.getItem("newUser"))||V.render("home"),Y.forEach((e=>{e.addEventListener("click",(()=>{ee(e),V.render(e.id),_()}))})),pe(),R.forEach(((e,t)=>{e.src=w,e.addEventListener("click",(c=>{e.src=e.src==w?q:w,M[t].classList=e.src==w?"subject-list-wrapper":"subject-list-wrapper dropdown";const a=c.target.parentElement.parentElement.parentElement.id;e.src==q&&function(e,t){const c=g.getSchedule().find((t=>t.day==e));B[t].innerHTML="",c?.subjects.forEach((e=>{B[t].appendChild($(e.name,e.id))})),function(e,t){const c=B[t].querySelectorAll(".tile");c.forEach((t=>{t.querySelector("img").addEventListener("click",(()=>{const c=t.getAttribute("data-ID");g.removeSubject(e,c)}))}))}(e,t)}(a,t)}))})),P.forEach((e=>{e.addEventListener("click",(e=>{!function(e){(function(){const e=U.querySelector(".options");e.innerText="",G.forEach((t=>{e.append(t)}))})(),U.setAttribute("data-Day",`${e}`),U.showModal()}(e.target.parentElement.parentElement.id)}))})),function(){if(""==z.innerHTML){z.appendChild(I(!1));const e=document.createElement("div");e.className="list";const t=document.createElement("div");t.className="btn-container";const c=document.createElement("button");c.classList="submit-btn",c.innerText="Done",c.addEventListener("click",(e=>{!function(e){const t=U.querySelector(".list"),c=t.querySelectorAll(".tile");if(0!=c.length){const t=[];c.forEach((e=>{const c=e.getAttribute("data-id"),a=e.querySelector("div").innerText;t.push({name:a,id:c})})),g.addData(e,t),K(),U.close()}else t.style.color="red",t.innerText="Please select subjects"}(e.target.parentElement.parentElement.parentElement.getAttribute("data-day"))}));const a=document.createElement("button");a.classList="cancel-btn",a.innerText="Cancel",a.addEventListener("click",(()=>{K(),U.close()})),t.appendChild(a),t.appendChild(c),z.appendChild(e),z.appendChild(t)}}(),A(),O()})();
//# sourceMappingURL=app.512048b27d0d3c07b477.js.map